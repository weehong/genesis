# SonarQube Project Configuration
# Based on pom.xml analysis for genesis Spring Boot application

# Project identification
sonar.projectKey=com.resetrix:genesis
sonar.projectName=genesis
sonar.projectVersion=0.0.1-SNAPSHOT

# Source and test directories
sonar.sources=src/main/java,src/main/resources
sonar.tests=src/test/java
sonar.test.inclusions=**/*Test.java,**/*Tests.java,**/*IT.java

# Java version
sonar.java.source=24
sonar.java.target=24

# Encoding
sonar.sourceEncoding=UTF-8

# Coverage reports
sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
sonar.junit.reportPaths=target/surefire-reports

# Exclusions based on pom.xml configuration and Spring Boot best practices
sonar.exclusions=\
    # Build and configuration files \
    **/target/**,\
    **/mvnw,\
    **/mvnw.cmd,\
    **/pom.xml,\
    **/*.properties,\
    **/*.yml,\
    **/*.yaml,\
    **/*.xml,\
    **/*.json,\
    
    # Main application class (already excluded in JaCoCo) \
    src/main/java/com/resetrix/genesis/GenesisApplication.java,\
    
    # Generated code and Lombok \
    **/target/generated-sources/**,\
    **/target/generated-test-sources/**,\

    # Configuration classes \
    **/*Config.java,\
    **/*Configuration.java,\

    # Database migration files \
    **/db/migration/**,\
    **/flyway/**,\

    # Static resources \
    **/static/**,\
    **/templates/**,\
    **/public/**,\

    # Checkstyle configuration \
    **/configurations/**

# Test exclusions
sonar.test.exclusions=\
    **/target/**

# Coverage exclusions (aligned with JaCoCo configuration)
sonar.coverage.exclusions=\
    # Main application class \
    src/main/java/com/resetrix/genesis/GenesisApplication.java,\

    # Configuration classes \
    **/*Config.java,\
    **/*Configuration.java,\

    # Entity classes (data classes) \
    **/*Entity.java,\
    **/entities/**,\
    **/*DTO.java,\
    **/*Request.java,\
    **/*Response.java,\

    # Exception classes \
    **/*Exception.java,\

    # Constants and enums \
    **/*Constants.java,\
    **/*Enum.java,\

    # Database migration files \
    **/db/migration/**,\

    # Generated code \
    **/target/generated-sources/**

# Duplication exclusions
sonar.cpd.exclusions=\
    **/*DTO.java,\
    **/*Entity.java,\
    **/entities/**,\
    **/*Request.java,\
    **/*Response.java,\
    **/*Exception.java,\
    **/db/migration/**

# Additional quality gate settings
sonar.qualitygate.wait=true

# Security hotspot exclusions for common Spring Boot patterns
sonar.security.hotspots.exclude=\
    # Spring Security configuration (requires manual review) \
    **/*SecurityConfig.java,\
    
    # Database configuration (connection strings) \
    **/application*.properties,\
    **/application*.yml
